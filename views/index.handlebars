<nav class="#4a148c purple darken-4" role="navigation">
    <div class="nav-wrapper container"><a id="logo-container" href="#" class="brand-logo">Task Ya Later!</a>
     
      <a href="#" data-target="nav-mobile" class="sidenav-trigger"><i class="material-icons"></i></a>
    </div>
  </nav>
  <br>
  <!-- CREATE LIST -->
  <div class="container">
    <div class="container #f3e5f5 purple lighten-5">
      <div class="row">
        <form id="create-list">
          <div class="input-field col s9">
            <label for="text-area">New List</label>
            <textarea class="materialize-textarea #ffffff white" type="text" id="list-item" name="newList" ></textarea>
          </div>
          <div class="input-field col s3">
            <button class="btn waves-effect #4a148c purple darken-4" type="submit">Add List
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
  
  <div></div>
  <!-- The Task Card -->
  <div class="container">
    <div class="container #f3e5f5 purple lighten-5">
      <!-- Page Content goes here -->
      <div class="row">
       <!-- LIST TITLE -->
        <br>
        <div class="col s6"><h5 class="left-align">List Title</h5></div>
        <!-- LIST TASK COUNTER -->
        <div class="col s1">
          <h5 class="#388e3c green darken-2">
            <span class="counter line-height:0px #00c853 white-text">0</span>
           </h5> 
        </div>
      
              <!-- DELETE LIST BUTTON -->
        <div class="col s3"><button class="btn waves-effect #4a148c purple darken-4" type="submit" name="action">Delete
          <i class="material-icons right"></i>
        </button></div>
      </div>
          
      <!-- TASK LIST -->
      <div class="row">
        <div class="col s9">
          <ul class="collection">
            <li id="task-input" class="collection-item">
              <p>#1 First Task to complete
              </p> 
            </li> 
          </ul>  
       </div>
       <div class="row">
        <div class="col">
          <br>
          <!-- COUNTER & DELETE BUTTON -->
          <!-- <div class="col s1 #00c853 green accent-4"><h5 class="white-text">0</h5></div> -->
        </div>
        <div class="col s3"><button class="btn waves-effect #4a148c purple darken-4" type="submit" name="action">Delete
          <i class="material-icons right"></i>
        </button></div>
      </div>
      </div>
      <!-- TEXT INPUT AREA -->
      <div class="row">
        <form id="create-task">
        
          <div class="input-field col s9">
             <label for="text-area">New Task</label>
            <textarea class="materialize-textarea #ffffff white" type="text" id="task-item" name="newTask" ></textarea>
            <button class="btn waves-effect #4a148c purple darken-4" type="submit">Add Task
            </button>
          </div>
        </form>
      </div>
     </div>
       <!-- SHARE LINK -->
       <div class="container">
        <div class="col s9 ">
            <ul class="collection">
              <li class="collection-item #4a148c purple darken-4">
                <a class="white-text" href="#!">Share Link</a>
              </li>
            </ul>  
        </div>
      </div>
<h1>List Dashboard</h1>
<h2>Here are the avaiable lists:</h2>
<ul>
  {{#each lists }}
    <li><h3>{{ title }}</h3></li>
  {{/each }}
</ul>

<script>
  // CREATE LIST
const createListBtn = document.getElementById("create-list");

createListBtn.addEventListener("submit", event => {
  event.preventDefault();

  const newList = {
    title: document.getElementById("list-item").value.trim()
  };

  console.log(newList);

  fetch("/api/lists", {
    method: "POST",
    headers: {
      Accept: "application/json",
      "Content-Type": "application/json"
    },
    body: JSON.stringify(newList)
  }).then(() => {
    // Empty the form
    document.getElementById("list-item").value = "";

    console.log("New task created");

    // Reloads the page to see added task
    // location.reload();
  });
});

// CREATE TASK
const createTaskBtn = document.getElementById("create-task");

createTaskBtn.addEventListener("submit", event => {
  event.preventDefault();

  const newTask = {
    description: document.getElementById("task-item").value.trim(),
    // TO DO: Replace "1" with - event.target.getAttribute("data-id");
    // data-id needs to be assigned to submit button
    // data-id value will come from an #each that grabs the value of the list
    ListId: 1
  };

  console.log(newTask);

  fetch("/api/tasks", {
    method: "POST",
    headers: {
      Accept: "application/json",
      "Content-Type": "application/json"
    },
    body: JSON.stringify(newTask)
  }).then(() => {
    // Empty the form
    document.getElementById("task-item").value = "";

    console.log("New task created");

    // Reloads the page to see added task
    // location.reload();
  });
});
</script>